<!DOCTYPE html><html lang="en"><head><title>Quasar Require - Quasar Framework</title><meta charset="utf-8"><meta name="description" content="Quasar Framework - Build desktop & phone/tablet apps simultaneously"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link href="http://fonts.googleapis.com/css?family=Dosis:300,500&text=Quasar%20Framework" rel="stylesheet"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><link rel="icon" href="/images/quasar-logo.png" type="image/x-icon"><link rel="stylesheet" href="/css/page-combined-0a5bf7cc5d.css"><body><div id="mobile-bar"><i class="menu-button fa fa-bars"></i> <a id="logo" href="/"><span>Quasar Framework</span> <img src="/images/quasar-logo.png"></a></div><div id="header"><a id="logo" href="/"><img src="/images/quasar-logo.png"> <span>Quasar Framework</span></a><ul id="nav"><li><a href="/search/" class="nav-link"><i class="fa fa-search" style="vertical-align:middle"></i> Search</a></li><li><a href="/guide/" class="nav-link">Guide</a></li><li><a href="/api/" class="nav-link current">API</a></li><li><a href="/css/" class="nav-link">CSS</a></li><li><a href="/blog/" class="nav-link">Blog</a></li><li><a href="https://github.com/rstoenescu/quasar-framework" class="nav-link" target="_blank">GitHub</a></li></ul></div><div id="main"><div class="sidebar"><ul class="main-menu"><li><a href="/search/" class="nav-link"><i class="fa fa-search" style="vertical-align:middle"></i> Search</a></li><li><a href="/guide/" class="nav-link">Guide</a></li><li><a href="/api/" class="nav-link current">API</a></li><li><a href="/css/" class="nav-link">CSS</a></li><li><a href="/blog/" class="nav-link">Blog</a></li><li><a href="https://github.com/rstoenescu/quasar-framework" class="nav-link" target="_blank">GitHub</a></li></ul><div class="list"><h2>API</h2><ul class="menu-root"><li><a href="/api/index.html" class="sidebar-link">Overview</a></li></ul><h3>Core</h3><ul class="menu-root"><li><a href="/api/core-js-environment.html" class="sidebar-link">Environment</a></li><li><a href="/api/core-js-debug-helpers.html" class="sidebar-link">Debug Helpers</a></li><li><a href="/api/core-js-router.html" class="sidebar-link">Router</a></li><li><a href="/api/core-js-events.html" class="sidebar-link">Events</a></li><li><a href="/api/core-js-ajax.html" class="sidebar-link">Ajax</a></li><li><a href="/api/core-js-require.html" class="sidebar-link current">Require</a></li><li><a href="/api/core-js-touch-events.html" class="sidebar-link">Touch Events</a></li></ul><h3>Features</h3><ul class="menu-root"><li><a href="/api/feat-cookies.html" class="sidebar-link">Cookies</a></li><li><a href="/api/feat-web-storage.html" class="sidebar-link">Web Storage</a></li></ul><h3>Web Components</h3><ul class="menu-root"><li><a href="/api/web-components-layout.html" class="sidebar-link">Layout</a></li><li><a href="/api/web-components-spinners.html" class="sidebar-link">Spinners</a></li></ul></div></div><div class="content"><h1>Quasar Require</h1><p>This feature is used to dynamically include <code>.js</code> files or inject <code>.css</code> ones.</p><h2 id="Require_a_Script_file">Require a Script file</h2><p>You can require a CommonJS compliant .js file directly from your application. Subsequent require() calls within the files are going to also be fetched. Besides being able to use synchronous (but not browser blocking!) require() calls within the browser, you can also require scripts from your node_modules/ folder.</p><p>Features that you can take advantage of:</p><ul><li>Synchronous <code>require()</code> in modules, but without making synchronous Ajax calls nor freezing the browser.</li><li><code>exports</code> and <code>module.exports</code> objects just work.</li><li>Works with NPM; you can include files directly from your node_modules/ folder. Just make sure that the included libraries work well with the browser.</li><li><code>require()</code> paths are relative to the folder of each script in place. No need to write all paths using the same base.</li><li>Debugging works really well as required files appear in the Scripts section, each separately, with their real name not a hash or VM string.</li><li>Dependencies are loaded as well. Circular dependencies are not a problem as they are handled correctly.</li><li>There’s no need for a build step of your scripts.</li><li>Required modules are cached. Subsequent calls are resolved instantly.</li></ul><h3 id="Usage">Usage</h3><p>In your modules you can use the <code>require()</code> function, <code>exports</code> and <code>module.exports</code> objects as you would in NodeJS.</p><p>There are multiple ways to include a script file through <code>quasar.require.script()</code>, depending on your style. The syntax is:</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Using Callback Fn</span></span><br><span class="line">quasar.require.script(</span><br><span class="line">  &#123;<span class="built_in">String</span>&#125; path | &#123;<span class="built_in">Function</span>&#125; fn,</span><br><span class="line">  &#123;<span class="built_in">Function</span>&#125; callback(err, exports)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Using Promises</span></span><br><span class="line">quasar.require.script(&#123;<span class="built_in">String</span>&#125; path | &#123;<span class="built_in">Function</span>&#125; fn)</span><br><span class="line">  .fail(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// we failed...</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .done(<span class="function"><span class="keyword">function</span>(<span class="params">exports</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// we succeeded!</span></span><br><span class="line">  &#125;);</span><br></pre></table></figure><h4 id="Specifying_Path">Specifying Path</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Requiring "module-file.js"</span></span><br><span class="line">quasar.require.script(<span class="string">"./module-file"</span>), <span class="function"><span class="keyword">function</span> (<span class="params">err, exports</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="comment">// an error was encountered while loading the script file</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// HTTP code returned</span></span><br><span class="line">        <span class="built_in">console</span>.log(err.status);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Message returned</span></span><br><span class="line">        <span class="built_in">console</span>.log(err.statusText);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// use the exports object as needed</span></span><br><span class="line">    exports.method();</span><br><span class="line">&#125;);</span><br></pre></table></figure><h4 id="Specifying_Factory_Function">Specifying Factory Function</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">// Requiring "./hello world.js"</span></span><br><span class="line">quasar.require.script(<span class="function"><span class="keyword">function</span>(<span class="params">require, module, exports</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">require</span>(<span class="string">"./hello-world"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(exports.hello(<span class="string">'World!'</span>));</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, exports</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.error(err.statusText);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(exports.hello);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></span><br></pre></table></figure><blockquote><p><strong>NOTE</strong><br>The first parameter of the Factory function <strong>must</strong> be named exactly <code>require</code>, otherwise no file is going to get fetched.</p></blockquote><h3 id="Managing_Cache">Managing Cache</h3><p>By default, all modules that are loaded are cached. If at some point you want to clear out the cache, proceed as follows:<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">quasar.clear.require.cache();</span><br></pre></table></figure></p><h3 id="Limitations">Limitations</h3><ul><li>If you load from <code>node_modules/</code> folder, specify full path to the entry point file; Quasar will not read the module’s <code>package.json</code> file, and so the “main” property is ignored. Modules inside packages must be requested by their full path, e.g. <code>var _ = require(&quot;underscore/underscore&quot;);</code></li><li>When using the Factory function, the first formal parameter must be exactly <code>require</code> and nothing else, otherwise no files are going to get fetched.</li><li>No cross-domain paths can be used when within a browser. Cross-domain paths work only when app is packaged with Cordova.</li></ul><h2 id="Injecting_CSS">Injecting CSS</h2><p>Injecting CSS means inserting a stylesheet DOM element which makes the browser request your <code>.css</code> file.</p><p>List of features:</p><ul><li>You have two methods of injecting CSS: globally and per-page. When using “per-page” option and navigating to another page, the injected CSS will be removed. Globally injected will not get removed when navigating away.</li><li>CSS is cached, so subsequent calls to the same resource are resolved without fetching file again.</li><li>Ability to remove global or per-page injected CSS at command.</li></ul><h3 id="Usage-1">Usage</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Injecting globally</span></span><br><span class="line">quasar.inject.css(URL);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Injecting per-page</span></span><br><span class="line">quasar.inject.page.css(URL);</span><br></pre></table></figure><p>Removing injected CSS:<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Removing globally injected CSS</span></span><br><span class="line">quasar.clear.css();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Removing page injected CSS</span></span><br><span class="line">quasar.clear.page.css();</span><br></pre></table></figure></p><div class="guide-links"><span>← <a href="/api/core-js-ajax.html">Ajax</a></span> <span style="float:right"><a href="/api/core-js-touch-events.html">Touch Events</a> →</span></div><div class="footer"><hr><div>Last updated: Mon Dec 14 2015</div>Caught a mistake or want to contribute to the documentation? <a href="https://github.com/rstoenescu/quasar-site/edit/master/source/api/core-js-require.md" target="_blank">Suggest an edit on GitHub <i class="fa fa-pencil"></i></a></div></div><a href="#top" id="toTop"><i class="fa fa-arrow-up"></i></a></div><script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script><script>document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1);</script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-6317975-4","auto"),ga("send","pageview");</script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scroll/7.1.1/js/smooth-scroll.min.js"></script><script src="/js/page-combined-d1a1f0d0f4.js"></script>