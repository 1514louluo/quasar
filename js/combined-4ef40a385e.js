!function(){function e(e){var t=p.offsetHeight;if(u.className=e>t?"fix-sidebar":"",!T&&S){for(var n,o=0;o<S.length;o++){var i=S[o];if(i.offsetTop>e){n||(n=i);break}n=i}n&&r(n.id)}}function t(e){var t=document.createElement("li"),n=e.textContent.replace(/\(.*\)$/,"");return e.id=e.id.replace(/\(.*\)$/,"").replace(/\$/,""),t.innerHTML='<a class="section-link" data-scroll href="#'+e.id+'">'+n+"</a>",t}function n(e){for(var t=[],n=e.nextSibling;n&&"H2"!==n.tagName;)"H3"===n.tagName&&t.push(n),n=n.nextSibling;return t}function o(e,n){var o=document.createElement("ul");return n&&(o.className="menu-sub"),e.forEach(function(e){o.appendChild(t(e))}),o}function r(e){var t=v.querySelector(".section-link.active"),n="string"==typeof e?v.querySelector('.section-link[href="#'+e+'"]'):e;n!==t&&(t&&t.classList.remove("active"),n.classList.add("active"))}function i(e){var t=document.createElement("a");t.href="#"+e.id,t.setAttribute("data-scroll",""),e.parentNode.insertBefore(t,e),t.appendChild(e)}function c(e,t,n){var o=e.scrollTop,r=t-o,i=7,c=function(t){t+=i;var l=a(t,o,r,n);e.scrollTop=l,n>t&&setTimeout(function(){c(t)},i)};c(0)}function a(e,t,n,o){return e/=o/2,1>e?n/2*e*e+t:(e-=1,-n/2*(e*(e-2)-1)+t)}function l(e){E.classList[e>1e3?"add":"remove"]("visible")}function s(){var t=f&&f.scrollTop||m.scrollTop;e(t),l(t)}var d=[].forEach,u=document.getElementById("main"),f=document.documentElement,m=document.body,p=document.getElementById("header"),v=document.querySelector(".sidebar"),h=document.querySelector(".content"),g=document.getElementById("mobile-bar"),E=document.getElementById("toTop"),y=g.querySelector(".menu-button");y.addEventListener("click",function(){v.classList.toggle("open")}),m.addEventListener("click",function(e){e.target===y||v.contains(e.target)||v.classList.remove("open")});var b=v.querySelector(".sidebar-link.current");if(b){var L,S=[];L=document.createElement("ul"),L.className="menu-sub",b.parentNode.appendChild(L);var k=h.querySelectorAll("h2");k.length?d.call(k,function(e){L.appendChild(t(e));var r=n(e);S.push(e),S.push.apply(S,r),r.length&&L.appendChild(o(r))}):(k=h.querySelectorAll("h3"),d.call(k,function(e){L.appendChild(t(e)),S.push(e)}));var T=!1;L.addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains("section-link")&&(v.classList.remove("open"),r(e.target),T=!0,setTimeout(function(){T=!1},400))},!0),S.forEach(i),smoothScroll.init({speed:400,offset:window.innerWidth>720?40:58})}E.addEventListener("click",function(e){e.preventDefault(),c(document.body,0,1250)}),window.addEventListener("scroll",s),window.addEventListener("resize",s)}();