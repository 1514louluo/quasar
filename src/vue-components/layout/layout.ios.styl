$layout-toolbar-min-height ?= 50px
$layout-border             ?= 1px solid $toolbar-faded-color

$toolbar-title-font-size   ?= .95rem
$toolbar-padding           ?= 4px 10px

.layout
  width 100%
  min-height 100vh

.layout-header
  border-bottom $layout-border

.layout-footer
  border-top $layout-border

.layout-aside
  overflow-y auto
  position absolute
  top 0
  bottom 0
  background white
  &.fixed
    z-index $z-side
    border $layout-border
  &.on-top
    z-index $z-fixed-side
.layout-aside-left
  left 0
.layout-aside-right
  right 0

main, .layout, .layout-header, .layout-footer
  position relative

.layout-header, .layout-footer
  color $toolbar-color
  background $toolbar-background
  z-index $z-marginals

.layout-header, .layout-footer
  transition transform .3s

.layout-backdrop
  z-index ($z-fixed-side - 1)
  background $dimmed-background

.layout-side-opener
  z-index ($z-marginals + 1)
  height 100vh
  width 15px

body.with-layout-side-opened
  overflow hidden




.toolbar
  padding $toolbar-padding
  min-height $layout-toolbar-min-height
  display flex
  overflow hidden
  flex-direction row
  align-items center
  justify-content space-between
  width 100%
  position relative
  color $toolbar-color
  background $toolbar-background

  &.border-bottom
    border-bottom $layout-border
  &.border-top
    border-top $layout-border

  for $name, $color in $colors
    if $name != 'light' && $name != 'white'
      &.{$name}
        color white
        background $color
        &.inverted
          color $color
        if luminosity($color) < .3
          &:not(.inverted)
            border 0
    if $name == 'light' || $name == 'white'
      &.{$name}
        color composite-color($color)
        background $color
        &.inverted
          color $color
          background composite-color($color)


  &.inverted
    background white

  > button
    margin 0 .2rem
    padding .2rem
    &:active:not(.disabled)
      color $toolbar-active-color

.toolbar-title
  pointer-events none
  position absolute
  top 0
  left 0
  padding 0 90px 1px
  width 100%
  height 100%
  display flex
  align-items center
  justify-content center
  &.padding-0
    padding 0
  &.padding-1
    padding 0 45px
  &.padding-2
    padding 0 85px
  &.padding-3
    padding 0 125px
  &.padding-4
    padding 0 165px
  > div
    flex 1
    font-weight 600
    text-overflow ellipsis
    white-space nowrap
    overflow hidden
    font-size $toolbar-title-font-size
    text-align center
  i
    line-height 1
.toolbar-content
  flex 1
  min-width 0
  max-width 100%
  &.text-left .toolbar-title
    position relative
    padding 0 7px
    > div
      text-align left
  &.text-right .toolbar-title
    position relative
    padding 0 7px
    > div
      text-align right

body
  &.cordova.platform-ios, &.demo-site.within-iframe
    .layout-header > .toolbar:first-child
      padding-top $ios-statusbar-height
      min-height ($layout-toolbar-min-height + $ios-statusbar-height)
      .toolbar-title
        padding-top $ios-statusbar-height

.layout-padding
  @media only screen and (max-width $layout-small-max)
    padding 1.5rem .5rem
    &.horizontal
      padding 0 .5rem
  @media only screen and (min-width $layout-medium-min) and (max-width $layout-medium-max)
    padding 1.5rem 2rem
    margin auto
    &.horizontal
      padding 0 2rem
  @media only screen and (min-width $layout-big-min) and (max-width $layout-big-max)
    padding 2.5rem 3rem
    margin auto
    &.horizontal
      padding 0 3rem
  @media only screen and (min-width $layout-large-min)
    padding 3rem 4rem
    margin auto
    &.horizontal
      padding 0 4rem
