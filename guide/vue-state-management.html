<!DOCTYPE html><html lang="en"><head><title>Vue State Management - Quasar Framework</title><meta charset="utf-8"><meta name="description" content="Quasar Framework - Build desktop & phone/tablet apps simultaneously"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link href="http://fonts.googleapis.com/css?family=Dosis:300,500&text=Quasar%20Framework" rel="stylesheet"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><link rel="icon" href="/images/quasar-logo.png" type="image/x-icon"><link rel="stylesheet" href="/css/page-combined-3354dffff5.css"><body><div id="mobile-bar"><i class="menu-button fa fa-bars"></i> <a id="logo" href="/"><span>Quasar Framework</span> <img src="/images/quasar-logo.png"></a></div><div id="header"><a id="logo" href="/"><img src="/images/quasar-logo.png"> <span>Quasar Framework</span></a><ul id="nav"><li><a href="/search/" class="nav-link"><i class="fa fa-search" style="vertical-align:middle"></i> Search</a></li><li><a href="/guide/" class="nav-link current">Guide</a></li><li><a href="/api/" class="nav-link">API</a></li><li><a href="/css/" class="nav-link">CSS</a></li><li><a href="/blog/" class="nav-link">Blog</a></li><li><a href="https://github.com/rstoenescu/quasar-framework" class="nav-link" target="_blank">GitHub</a></li></ul></div><div id="main"><div class="sidebar"><ul class="main-menu"><li><a href="/search/" class="nav-link"><i class="fa fa-search" style="vertical-align:middle"></i> Search</a></li><li><a href="/guide/" class="nav-link current">Guide</a></li><li><a href="/api/" class="nav-link">API</a></li><li><a href="/css/" class="nav-link">CSS</a></li><li><a href="/blog/" class="nav-link">Blog</a></li><li><a href="https://github.com/rstoenescu/quasar-framework" class="nav-link" target="_blank">GitHub</a></li></ul><div class="list"><h2>Guide</h2><ul class="menu-root"><li><a href="/guide/index.html" class="sidebar-link">What is Quasar</a></li><li><a href="/guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/guide/cli-commands.html" class="sidebar-link">CLI Commands</a></li><li><a href="/guide/built-in-stack.html" class="sidebar-link">Built-in Stack</a></li></ul><h3>App</h3><ul class="menu-root"><li><a href="/guide/quasar-app-structure.html" class="sidebar-link">App Structure</a></li><li><a href="/guide/quasar-app-configuration.html" class="sidebar-link">App Configuration</a></li><li><a href="/guide/quasar-app-starting-point.html" class="sidebar-link">Starting Point</a></li><li><a href="/guide/quasar-pages.html" class="sidebar-link">Pages</a></li><li><a href="/guide/quasar-layouts.html" class="sidebar-link">Layouts</a></li><li><a href="/guide/quasar-build-system.html" class="sidebar-link">Build System</a></li><li><a href="/guide/quasar-events-list.html" class="sidebar-link">Events List</a></li><li><a href="/guide/vue-state-management.html" class="sidebar-link current">Vue State Management</a></li></ul><h3>Miscellaneous</h3><ul class="menu-root"><li><a href="/guide/commonjs-format.html" class="sidebar-link">CommonJS Format</a></li><li><a href="/guide/contributing-to-quasar.html" class="sidebar-link">Contributing to Quasar</a></li><li><a href="/guide/quasar-mobile-wrapper-tips.html" class="sidebar-link">Mobile Wrapper Tips</a></li></ul></div></div><div class="content"><h1>Vue State Management</h1><p>As you should know, Pages and Layouts are essentially Vue instances. So they have a data object. It is good to learn how to efficiently share parts of the data object between components.</p><p><em>The following is an extract (and adaptation) from <a href="http://vuejs.org" target="_blank">VueJS official website</a></em>.</p><p>In large applications, state management often becomes complex due to multiple pieces of state scattered across many components and the interactions between them. It is often overlooked that the source of truth in Vue instances is the raw data object - a Vue instances simply proxies access to it. Therefore, if you have a piece of state that should be shared by multiple instances, you should avoid duplicating it and share it by identity:</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> sourceOfTruth = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vmA = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: sourceOfTruth</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vmB = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: sourceOfTruth</span><br><span class="line">&#125;)</span><br></pre></table></figure><p>Now whenever <code>sourceOfTruth</code> is mutated, both <code>vmA</code> and <code>vmB</code> will update their views automatically. Extending this idea further, we would arrive at the <strong>store pattern</strong>:</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> store = &#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    message: <span class="string">'Hello!'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  actionA: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.state.message = <span class="string">'action A triggered'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  actionB: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.state.message = <span class="string">'action B triggered'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vmA = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    privateState: &#123;&#125;,</span><br><span class="line">    sharedState: store.state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vmB = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    privateState: &#123;&#125;,</span><br><span class="line">    sharedState: store.state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></table></figure><p>Notice we are putting all actions that mutate the store’s state inside the store itself. This type of centralized state management makes it easier to understand what type of mutations could happen to the state, and how are they triggered. Each component can still own and manage its private state.</p><p><img src="/images/vue-state-management.png" alt="Vue State Management"></p><p>One thing to take note is that you should never replace the original state object in your actions - the components and the store need to share reference to the same object in order for the mutations to be observed.</p><p>If we enforce a convention where components are never allowed to directly mutate state that belongs to a store, but should instead dispatch events that notify the store to perform actions, we’ve essentially arrived at the <a href="https://facebook.github.io/flux/" target="_blank">Flux</a> architecture. The benefits of this convention is we can record all state mutations happening to the store, and on top of that we can implement advanced debugging helpers such as mutation logs, snapshots, history re-rolls etc.</p><p>The Flux architecture is commonly used in React applications. Turns out the core idea behind Flux can be quite simply achieved in Vue.js, thanks to the unobtrusive reactivity system. Do note what we demonstrated here is just an example to introduce the concept - you may not need it at all for simple scenarios, and you should adapt the pattern to fit the real needs of your application.</p><div class="guide-links"><span>← <a href="/guide/quasar-events-list.html">Events List</a></span> <span style="float:right"><a href="/guide/commonjs-format.html">CommonJS Format</a> →</span></div><div class="footer"><hr><div>Last updated: Sat Dec 19 2015</div>Caught a mistake or want to contribute to the documentation? <a href="https://github.com/rstoenescu/quasar-site/edit/master/source/guide/vue-state-management.md" target="_blank">Suggest an edit on GitHub <i class="fa fa-pencil"></i></a></div></div><a href="#top" id="toTop"><i class="fa fa-arrow-up"></i></a></div><script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script><script>document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1);</script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-6317975-4","auto"),ga("send","pageview");</script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scroll/7.1.1/js/smooth-scroll.min.js"></script><script src="/js/page-combined-d1a1f0d0f4.js"></script>