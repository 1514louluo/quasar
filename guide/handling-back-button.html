<!DOCTYPE html><html lang="en"><title>Handling Back Button - Quasar Framework</title><meta charset="utf-8"><meta name="description" content="Quasar Framework - Build desktop & phone/tablet apps simultaneously"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono|Source+Sans+Pro"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><link rel="icon" href="/images/quasar-logo.png" type="image/x-icon"><link rel="stylesheet" href="/css/page-combined-2517c94df7.css"><body class=""><div id="header"><a class="menu-button"><i class="fa fa-bars"></i></a> <a id="logo" href="/"><img src="/images/quasar-logo.png"> <span>Quasar Framework</span> </a><a href="/guide/" class="menu-link current">Guide </a><a href="/api/" class="menu-link">API </a><a href="/components/" class="menu-link">Components </a><a href="/search/" class="menu-link"><i class="fa fa-search" style="vertical-align:middle"></i> </a><a href="https://github.com/rstoenescu/quasar-framework" class="menu-link" target="_blank"><i class="fa fa-github" style="vertical-align:middle"></i> </a><a href="https://twitter.com/quasarframework" class="menu-link" target="_blank"><i class="fa fa-twitter" style="vertical-align:middle"></i></a></div><div class="sidebar-backdrop"></div><div class="sidebar"><div class="list"><div class="sidebar-menu"><a href="/guide/" class="menu-link current">Guide </a><a href="/api/" class="menu-link">API </a><a href="/components/" class="menu-link">Components </a><a href="/search/" class="menu-link"><i class="fa fa-search" style="vertical-align:middle"></i> </a><a href="https://github.com/rstoenescu/quasar-framework" class="menu-link" target="_blank"><i class="fa fa-github" style="vertical-align:middle"></i> </a><a href="https://twitter.com/quasarframework" class="menu-link" target="_blank"><i class="fa fa-twitter" style="vertical-align:middle"></i></a></div><div class="support-link"><a href="/support-quasar-framework.html"><i class="fa fa-ambulance"></i> Support Quasar</a></div><br><br><h2>Guide</h2><ul class="menu-root"><li><a href="/guide/index.html" class="sidebar-link">Getting Started</a><li><a href="/guide/quasar-cli.html" class="sidebar-link">Quasar CLI</a><li><a href="/guide/quasar-play-app.html" class="sidebar-link">Quasar Play App</a><li><a href="/guide/contributing.html" class="sidebar-link">Contributing</a></ul><h3>Boilerplate</h3><ul class="menu-root"><li><a href="/guide/app-boilerplate.html" class="sidebar-link">Overview</a><li><a href="/guide/app-structure.html" class="sidebar-link">Structure</a><li><a href="/guide/app-build-commands.html" class="sidebar-link">Build Commands</a><li><a href="/guide/app-linter-configuration.html" class="sidebar-link">Linter Configuration</a><li><a href="/guide/app-pre-processors.html" class="sidebar-link">Pre-Processors</a><li><a href="/guide/app-handling-static-assets.html" class="sidebar-link">Handling Static Assets</a><li><a href="/guide/app-api-proxying-for-dev.html" class="sidebar-link">API Proxying for Dev</a><li><a href="/guide/app-unit-testing.html" class="sidebar-link">Unit Testing</a><li><a href="/guide/app-end-to-end-testing.html" class="sidebar-link">End-to-end Testing</a><li><a href="/guide/app-prerendering-for-seo.html" class="sidebar-link">Prerendering for SEO</a></ul><h3>Development</h3><ul class="menu-root"><li><a href="/guide/ajax-requests.html" class="sidebar-link">Ajax Requests</a><li><a href="/guide/components-sharing-state.html" class="sidebar-link">Components Sharing State</a><li><a href="/guide/cordova-wrapper.html" class="sidebar-link">Cordova Wrapper</a><li><a href="/guide/handling-back-button.html" class="sidebar-link current">Handling Back Button</a><li><a href="/guide/router.html" class="sidebar-link">Router</a><li><a href="/guide/quasar-theming.html" class="sidebar-link">Theming</a><li><a href="/guide/touch-events.html" class="sidebar-link">Touch Events</a></ul></div></div><div id="main"><div class="content"><h1>Handling Back Button <a href="https://github.com/rstoenescu/quasar-site/edit/master/source/guide/handling-back-button.md" target="_blank">&nbsp;&nbsp;<i class="fa fa-pencil"></i>&nbsp;&nbsp;</a></h1><p>When writing same code for building a mobile App and a website simultaneously, it’s important to know how to handle the “Back” button. More specifically, how to manage buttons on your layout/page that should make your App “go back” to the previous screen.<blockquote><p>It would probably be better if you read and understand how <a href="http://router.vuejs.org/" target="_blank" rel="external">Vue Router</a> works first.</blockquote><h2 id="Navigation-Scenario"><a href="#Navigation-Scenario" class="headerlink" title="Navigation Scenario"></a>Navigation Scenario</h2><p>Analyze this situation: We have an App with two pages (so two routes): a login one (route “/“) and another one with a list of items on multiple layout tabs (let’s call it “List page” from now on; each tab has a route like “/list/shoes”, “/list/hats”). Login page redirects to List page and List page has a “Logout” button which redirects the user to the Login page.<p>How would you handle this situation? Normally, you’d write code like below for Login and Logout button (won’t go into details of handling the login information and communicating with a server as this is outside of our point here):<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Login button --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"primary"</span> <span class="attr">v-link</span>=<span class="string">"/list"</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- Logout button --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"primary"</span> <span class="attr">v-link</span>=<span class="string">"/"</span>&gt;</span>Logout<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></table></figure><p><p>Now you build your App and install it on a phone. You open up the App, hit login then logout. Then the phone’s back button. What you most likely want is for your App to exit at this point… but it doesn’t! It goes to “/list” route instead.. It’s kind of obvious why. Web history builds up as you hit the buttons:<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"># Start App</div><div class="line">--&gt; window.history.length is 1</div><div class="line"></div><div class="line"># Hit Login button</div><div class="line">--&gt; window.history.length is 2</div><div class="line"></div><div class="line"># Hit Logout button</div><div class="line">--&gt; window.history.length is 3!</div></pre></table></figure><p><p>What you’d like instead is when you hit the Logout button the <code>window.history.length</code> to be 1 again. Quasar can handle this automatically for you. Read about the <code>v-go-back</code> Vue directive.<h2 id="Directive-“v-go-back”"><a href="#Directive-“v-go-back”" class="headerlink" title="Directive “v-go-back”"></a>Directive “v-go-back”</h2><p>Let’s rewrite the Logout button to act as we actually want it to work, which is to make <code>window.history.length</code> be 1 again:<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Logout button --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"primary"</span> <span class="attr">v-go-back</span>=<span class="string">"/"</span>&gt;</span>Logout<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></table></figure><p><p>This directive determines if the Platform is Cordova, and if so, it performs a <code>window.history.back()</code> call instead of a <code>$router.go(&#39;/&#39;)</code>.<h2 id="Quirks"><a href="#Quirks" class="headerlink" title="Quirks"></a>Quirks</h2><p>Now you think everything will work smoothly, but you must be careful on how you build up window history. Remember we started by says that the List page has a layout with multiple tabs, each one with its own route (“/list/shoes”, “/list/hats”).<p>If we’d use <code>v-link=&#39;/list/shoes&#39;</code> and <code>v-link=&#39;/list/hats&#39;</code> on your tabs, then window history will build up when switching between the tabs, simply because Vue Router pushes routes to the history. What you’d like instead is for your window history to stay the same, even if routes change. Fortunately, Vue Router comes to the rescue with the <code>replace</code> property.<p>So, you should rewrite <code>v-link=&#39;...route...&#39;</code> with <code>v-link=&#39;{path: &#39;...route...&#39;, replace: true}&#39;</code>. This will replace the current route in window history rather than pushing it.<blockquote><p>Always <strong>think</strong> on how you redirect your App to a new route, depending on what you want to achieve. Think if you really want to push a new route to window history or you want to “replace” the current route. Otherwise the phone/tablet “Back” button won’t work quite as expected and instead of finally exiting the App it will make you go through all routes in the reverse order they were visited. So when you hit back and go to Login page you’d expect another back to make the App exit, but it might make your App go to one of the List tabs, depending on how user navigation history.</blockquote><div class="guide-links"><span><a href="/guide/cordova-wrapper.html"><i class="fa fa-chevron-left"></i> Cordova Wrapper</a></span> <span style="float:right"><a href="/guide/router.html">Router <i class="fa fa-chevron-right"></i></a></span></div><div class="footer"><hr><div>Last updated: Sat Sep 17 2016</div>Caught a mistake or want to contribute to the documentation? <a href="https://github.com/rstoenescu/quasar-site/edit/master/source/guide/handling-back-button.md" target="_blank">Suggest an edit on GitHub <i class="fa fa-pencil"></i></a></div></div><aside id="preview" style="display:none"><div id="preview-chooser"><a data-theme="android" class="active"><i class="fa fa-android"></i></a> <a data-theme="apple"><i class="fa fa-apple"></i></a></div><div id="android-preview" class="theme active"><iframe id="android-iframe" frameborder="0"></iframe><a class="desktop-launcher" target="_blank"><i class="fa fa-desktop"></i><br>Desktop View</a> <a class="view-source" target="_blank"><i class="fa fa-file-code-o"></i><br>View Source</a></div><div id="apple-preview" class="theme"><iframe id="apple-iframe" frameborder="0"></iframe><a class="desktop-launcher" target="_blank"><i class="fa fa-desktop"></i><br>Desktop View</a> <a class="view-source" target="_blank"><i class="fa fa-file-code-o"></i><br>View Source</a></div></aside></div><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-6317975-4","auto"),ga("send","pageview")</script><script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script><script>document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1)</script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scroll/7.1.1/js/smooth-scroll.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script src="/js/page-combined-2dfa833934.js"></script>